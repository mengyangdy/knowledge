---
title: å¯¹è±¡æ‰å¹³åŒ–
tags:
  - åœºæ™¯é¢˜
  - é¢è¯•é¢˜
date: 2024-06-13
---

# ä¸€ å¯¹è±¡æ‰å¹³åŒ–

```JS
/* é¢˜â½¬*/
var entryObj = {
	a: {
		b: {
			c: {
				dd: 'abcdd'
			}
		},
		d: {
			xx: 'adxx'
		},
		e: 'ae'
	}
}

// è¦æ±‚è½¬æ¢æˆå¦‚ä¸‹å¯¹è±¡
var outputObj = {
	'a.b.c.dd': 'abcdd',
	'a.d.xx': 'adxx',
	'a.e': 'ae'
}
```

```JS
let flatten = (myObj) => {
  debugger
  const flatObj = {}
  let flag = null

  function formatKey(obj, keyName) {
    for (let key in obj) {
      if (typeof obj[key] === 'object' && obj[key] !== null) {
        if (!keyName) {
          formatKey(obj[key], key)
        } else {
          if (Array.isArray(obj)) {
            formatKey(obj[key], `${keyName}[${key}]`)
          } else {
            formatKey(obj[key], `${keyName}.${key}`)
          }
        }
      } else {
        //å€¼ä¸æ˜¯å¯¹è±¡ æˆ–è€…æ˜¯ null
        if (!keyName) {
          flatObj[key] = obj[key]
        } else {
          if (Array.isArray(obj)) {
            flatObj[`${keyName}[${key}]`] = obj[key]
          } else {
            flatObj[`${keyName}.${key}`] = obj[key]
          }
        }
      }
    }
  }
  formatKey(myObj, flag)
  return flatObj
}

let result = flatten(entryObj)
console.log('ğŸš€ ~~- result:', result)
```

