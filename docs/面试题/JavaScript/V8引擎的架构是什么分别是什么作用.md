---
title: V8引擎的架构是什么分别是什么作用?
tags:
  - js
  - 面试题
date: 2024-05-26
---
# 一 V8引擎的架构是什么？分别是什么作用?

V8引擎的架构主要包括三个核心模块，每个模块承担着特定的功能，共同协作以高效执行JavaScript代码：

1. **解析模块**：
    - **作用**：负责读取JavaScript源代码，并将其转换为抽象语法树（AST）。AST是一种树形结构，代表了源代码的逻辑结构，为后续的代码执行做好准备。
2. **Ignition解释器**：
    - **作用**：将生成的AST转换成字节码（Bytecode）。字节码是一种简化版的机器码，易于生成和执行，且具有较好的跨平台性。Ignition同时负责执行这些字节码，并在执行过程中收集性能相关的数据，比如哪些函数被频繁调用，哪些类型的变量最常使用等，为接下来的优化提供依据。
3. **TurboFan编译器**：
    - **作用**：基于Ignition收集的信息，TurboFan将热点代码（即那些频繁执行的函数或循环）从字节码进一步编译成本地机器码。这一阶段涉及了更多高级的优化技术，如内联函数、类型特化、消除死代码等，以达到更高的执行效率。对于被标记为“热点”的函数，TurboFan的介入可以显著提升其运行速度。

整体而言，V8引擎采用了“解释执行+即时编译（JIT）”的混合模式，旨在平衡启动速度和运行时性能。通过首先使用Ignition快速解释执行代码，再根据运行时信息动态地用TurboFan对热点代码进行优化编译，V8能在保持快速响应的同时，确保长期运行的代码能够高效执行。此外，V8还包括了垃圾回收、内存管理等组件，以维护执行环境的稳定性和效率。
