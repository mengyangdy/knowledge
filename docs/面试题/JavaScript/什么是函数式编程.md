---
title: 什么是函数式编程?
tags:
  - js
  - 面试题
date: 2024-06-12
---

# 什么是函数式编程?

## 1 是什么

函数式编程是⼀种"编程范式"（programming paradigm），⼀种编写程序的⽅法论

主要的编程范式有三种：命令式编程，声明式编程和函数式编程

相⽐命令式编程，函数式编程更加强调程序执⾏的结果⽽⾮执⾏的过程，倡导利⽤若⼲简单的执⾏单元让计算结果不断渐进，逐层推导复杂的运算，⽽⾮设计⼀个复杂的执⾏过程

简单来讲，就是要把过程逻辑写成函数，定义好输⼊参数，只关⼼它的输出结果

即是⼀种描述集合和集合之间的转换关系，输⼊通过函数都会返回有且只有⼀个输出值

![](https://f.pz.al/pzal/2024/06/12/f1c11c6e2e3a8.png)

可以看到，函数实际上是⼀个关系，或者说是⼀种映射，⽽这种映射关系是可以组合的，⼀旦我们知道⼀个函数的输出类型可以匹配另⼀个函数的输⼊，那他们就可以进⾏组合

## 2 概念

### 2.1 纯函数

函数式编程旨在尽可能的提⾼代码的⽆状态性和不变性。要做到这⼀点，就要学会使⽤⽆副作⽤的函数，也就是纯函数

纯函数是对给定的输⼊返还相同输出的函数，并且要求你所有的数据都是不可变的，即纯函数=⽆状态+数据不可变

![](https://f.pz.al/pzal/2024/06/12/3d9a8ca7c5f9b.png)

特性：
- 函数内部传⼊指定的值，就会返回确定唯⼀的值
- 不会造成超出作⽤域的变化，例如修改全局变量或引⽤传递的参数

优势：
- 使⽤纯函数，我们可以产⽣可测试的代码
- 不依赖外部环境计算，不会产⽣副作⽤，提⾼函数的复⽤性
- 可读性更强 ，函数不管是否是纯函数 都会有⼀个语义化的名称，更便于阅读
- 可以组装成复杂任务的可能性。符合模块化概念及单⼀职责原则

### 2.2 ⾼阶函数

在我们的编程世界中，我们需要处理的其实也只有“数据”和“关系”，⽽关系就是函数

编程⼯作也就是在找⼀种映射关系，⼀旦关系找到了，问题就解决了，剩下的事情，就是让数据流过这种关系，然后转换成另⼀个数据，如下图所⽰

![](https://f.pz.al/pzal/2024/06/12/713d46a313631.png)

⾼级函数，就是以函数作为输⼊或者输出的函数被称为⾼阶函数

通过⾼阶函数抽象过程，注重结果，

⾼阶函数存在缓存的特性，主要是利⽤闭包作⽤

### 2.3 柯⾥化

柯⾥化是把⼀个多参数函数转化成⼀个嵌套的⼀元函数的过程

关于柯⾥化函数的意义如下：
- 让纯函数更纯，每次接受⼀个参数，松散解耦
- 惰性执⾏

### 2.4 组合与管道

组合函数，⽬的是将多个函数组合成⼀个函数

组合函数与管道函数的意义在于：可以把很多⼩函数组合起来完成更复杂的逻辑

## 3 优缺点

### 3.1 优点

- 更好的管理状态：因为它的宗旨是⽆状态，或者说更少的状态，能最⼤化的减少这些未知、优化代码、减少出错情况
- 更简单的复⽤：固定输⼊->固定输出，没有其他外部变量影响，并且⽆副作⽤。这样代码复⽤时，完全不需要考虑它的内部实现和外部影响
- 更优雅的组合：往⼤的说，⽹⻚是由各个组件组成的。往⼩的说，⼀个函数也可能是由多个⼩函数组成的。更强的复⽤性，带来更强⼤的组合性
- 隐性好处。减少代码量，提⾼维护性

### 3.2 缺点

- 性能：函数式编程相对于指令式编程，性能绝对是⼀个短板，因为它往往会对⼀个⽅法进⾏过度包装，从⽽产⽣上下⽂切换的性能开销
- 资源占⽤：在 JS 中为了实现对象状态的不可变，往往会创建新的对象，因此，它对垃圾回收所产⽣的压⼒远远超过其他编程⽅式
- 递归陷阱：在函数式编程中，为了实现迭代，通常会采⽤递归操作